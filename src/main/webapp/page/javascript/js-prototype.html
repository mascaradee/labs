<!DOCTYPE html>
<html lang="ko">
<head>
<title>page title here</title>
<meta charset="utf-8">
<link rel="stylesheet" href="/static/css/style.css"/>
<script src="/static/js/jquery-1.12.4.js"></script>
<script>
// #1 .prototype, .constructor, __proto__

// 우리가 함수를 정의하면 그 순간 새로운 프로토타입이 만들어진다.(함수 정의 외에 class 문법이 있지만 여기선 논외로 한다)
function Newbie() {}
// 생성자 함수와 프로토타입은 서로를 가리키는 프로퍼티를 하나씩 갖는다. 그것이 .prototype과 .constructor다

console.log(Newbie.prototype);
// .prototype 프로퍼티는 Newbie() 함수의 조상을 가리키는게 아니다. Newbie() 함수가 만들어낼 인스턴스의 조상을 가리킨다.

console.log(Newbie.prototype.constructor === Newbie); // true
// Newbie 프로토타입의 .constructor 프로퍼티는 Newbie를 가리킨다. 
// 하지만, 이것이 Newbie 프로토타입을 만들어낸 생성자가 Newbie란 뜻이 아니다. 말 그대로 가리킬 뿐이다.

var noob = new Newbie(); // Newbie() 생성자 함수로 인스턴스 noob을 만든다.
// 이 경우 noob의 프로토타입은 Newbie.prototype 프로퍼티가 가리키는 Newbie 프로토타입과 같다.
console.log(noob.__proto__ === Newbie.prototype); // true
// 이 말은 인스턴스의 __proto__ 프로퍼티는 인스턴스의 조상을 가리킨다는 것을 의미한다.

console.log(noob.constructor === Newbie); // true
// 인스턴스의 .constructor는 자기 자신을 만들어낸 생성자를 가리킨다.

// #2 프로토타입 체인

// 프로토타입이란 말 그대로 인스턴스의 원형, 즉 조상을 말한다. noob의 조상은 Newbie 프로토타입이며, Newbie 프로토타입의 조상은 Object 프로토타입이다.
// 프로토타입은 이런 상속관계를 거슬러 올라 프로퍼티를 찾는 방식을 말한다.

noob.toString(); // ...

// toString()은 Object 프로토타입에 있는 메서드다. noob을 통해 접근하려고 하는 순간, noob에 해당 메서드가 없으니 Newbie 프로토타입에서 찾으며, 여기에도 없으니 Object 프로토타입까지 올라가서 찾는다.

// 위의 경우는 읽기에 해당하며, 쓰기의 경우엔 조상을 탐색하지 않고 언급된 객체에 직접 쓴다. (없으면 만들어서라도)

// noob.toString = function() { console.log(123); }
// noob.toString(); // 123
</script>
</head>
<body>
<div class="align-center">
	<h1>js prototype</h1>
	<hr>
	<p>description</p>
	<p><a href="https://noritersand.github.io/javascript/javascript-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85-prototype/">링크</a>
</div>
</body>
</html>